(self.webpackChunkelev9_app=self.webpackChunkelev9_app||[]).push([[216],{4216:(e,t,o)=>{"use strict";o.r(t),o.d(t,{CustomerAcquisitionModule:()=>Me});var r=o(8583),i=o(2883),s=o(8814),n=o(3679),a=o(5719),l=o(5121),c=o(4207),u=o(6639),d=o(8117),p=o(8598),h=o(6352),g=o(705),m=o(6949),Z=o(3423),q=o(6461),v=o(2340),f=o(8618),C=o(6738),T=o(5353);class A{constructor(){}}(0,T.gn)([(0,d.vg)()],A.prototype,"customerIds",void 0),(0,T.gn)([(0,d.vg)()],A.prototype,"mobile",void 0),(0,T.gn)([(0,d.vg)()],A.prototype,"serviceIds",void 0),(0,T.gn)([(0,d.vg)()],A.prototype,"requestFrom",void 0),(0,T.gn)([(0,d.vg)()],A.prototype,"requestTo",void 0),(0,T.gn)([(0,d.vg)()],A.prototype,"zones",void 0),(0,T.gn)([(0,d.vg)()],A.prototype,"priority",void 0),(0,T.gn)([(0,d.vg)()],A.prototype,"statusIds",void 0),(0,T.gn)([(0,d.vg)()],A.prototype,"serviceForId",void 0),(0,T.gn)([(0,d.vg)()],A.prototype,"status",void 0);var y=o(7716),b=o(7374);let F=(()=>{class e extends b.b{constructor(e){super(e)}initializeSearch(){return this.api.get(this.apiProxy.ServiceRequest.initializeSearch())}Customersearch(e){return this.api.post(this.apiProxy.ServiceRequest.Customersearch(),e)}}return e.\u0275fac=function(t){return new(t||e)(y.LFG(y.zs3))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var D=o(464),M=o(2238),N=o(1436),_=o(3013),w=o(8341),I=o(103),O=o(1095),x=o(6627);const P=["customerId"];function U(e,t){1&e&&(y.TgZ(0,"mat-icon",35),y._uU(1,"cancel"),y.qZA())}function S(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"mat-chip",33),y.NdJ("removed",function(){const t=y.CHM(e).$implicit;return y.oxw(2).removeCustomerId(t)}),y._uU(1),y.YNc(2,U,2,0,"mat-icon",34),y.qZA()}if(2&e){const e=t.$implicit,o=y.oxw(2);y.Q6J("selectable",o.selectable)("removable",o.removable),y.xp6(1),y.hij(" ",e," "),y.xp6(1),y.Q6J("ngIf",o.removable)}}function k(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"form",19),y.NdJ("keydown.enter",function(){return y.CHM(e),y.oxw().search()}),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",20),y.TgZ(4,"label"),y._uU(5,"Customers Name"),y.qZA(),y.TgZ(6,"input",21),y.NdJ("matChipInputTokenEnd",function(t){return y.CHM(e),y.oxw().addCustomerId(t)}),y.qZA(),y.TgZ(7,"div",22),y.TgZ(8,"mat-chip-list",23,24),y.YNc(10,S,3,4,"mat-chip",25),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(11,"div",1),y.TgZ(12,"div",2),y.TgZ(13,"div",20),y.TgZ(14,"label"),y._uU(15,"Mobile"),y.qZA(),y._UZ(16,"p-inputMask",26),y.qZA(),y.qZA(),y.qZA(),y.TgZ(17,"div",1),y.TgZ(18,"div",2),y.TgZ(19,"div",20),y.TgZ(20,"label"),y._uU(21,"Date From"),y.qZA(),y._UZ(22,"input",27),y.qZA(),y.qZA(),y.qZA(),y.TgZ(23,"div",1),y.TgZ(24,"div",2),y.TgZ(25,"div",20),y.TgZ(26,"label"),y._uU(27,"Date To"),y.qZA(),y._UZ(28,"input",28),y.qZA(),y.qZA(),y.qZA(),y.TgZ(29,"div",1),y.TgZ(30,"div",2),y.TgZ(31,"div",20),y.TgZ(32,"label"),y._uU(33,"Status"),y.qZA(),y._UZ(34,"p-dropdown",29),y.qZA(),y.qZA(),y.qZA(),y.TgZ(35,"div",30),y.TgZ(36,"div"),y.TgZ(37,"button",31),y.NdJ("click",function(){return y.CHM(e),y.oxw().reset()}),y._uU(38,"Reset"),y.qZA(),y.TgZ(39,"button",32),y.NdJ("click",function(){return y.CHM(e),y.oxw().search()}),y._uU(40,"Search"),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){const e=y.MAs(9),t=y.oxw();y.Q6J("formGroup",t.searchForm),y.xp6(6),y.Q6J("matChipInputFor",e)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlur),y.xp6(1),y.Q6J("ngClass",t.filteredCustomers.length>0?"chipContainer":""),y.xp6(3),y.Q6J("ngForOf",t.filteredCustomers),y.xp6(24),y.Q6J("options",t.StatusArr)}}function Y(e,t){1&e&&(y.TgZ(0,"mat-icon",35),y._uU(1,"cancel"),y.qZA())}function J(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"mat-chip",33),y.NdJ("removed",function(){const t=y.CHM(e).$implicit;return y.oxw(2).removeSearching(t)}),y._uU(1),y.YNc(2,Y,2,0,"mat-icon",34),y.qZA()}if(2&e){const e=t.$implicit,o=y.oxw(2);y.Q6J("selectable",o.selectable)("removable",o.removable),y.xp6(1),y.hij(" ",e," "),y.xp6(1),y.Q6J("ngIf",o.removable)}}function R(e,t){if(1&e&&(y.TgZ(0,"div",36),y.TgZ(1,"label"),y._uU(2,"Search"),y.qZA(),y.TgZ(3,"div",37),y.TgZ(4,"mat-chip-list",38,39),y.YNc(6,J,3,4,"mat-chip",25),y.qZA(),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.xp6(6),y.Q6J("ngForOf",e.displayArr)}}function L(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"div",40),y.TgZ(1,"div"),y.TgZ(2,"p-button",41),y.NdJ("click",function(){return y.CHM(e),y.oxw().exportCSV()}),y.qZA(),y._uU(3,"\xa0 "),y.TgZ(4,"input",42),y.NdJ("input",function(t){return y.CHM(e),y.oxw().searchbox(t.target.value)}),y.qZA(),y.qZA(),y.qZA()}}function V(e,t){if(1&e&&y._UZ(0,"p-sortIcon",47),2&e){const e=y.oxw().$implicit;y.Q6J("field",e.field)}}function G(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"th",45),y.NdJ("click",function(){const t=y.CHM(e).$implicit;return y.oxw(2).sotingData(t.field)}),y._uU(1),y.YNc(2,V,1,1,"p-sortIcon",46),y.qZA()}if(2&e){const e=t.$implicit;y.Q6J("pSortableColumn",e.field),y.xp6(1),y.hij(" ",e.header," "),y.xp6(1),y.Q6J("ngIf","action"!=e.field)}}function H(e,t){if(1&e&&(y.TgZ(0,"tr",43),y.YNc(1,G,3,3,"th",44),y.qZA()),2&e){const e=t.$implicit;y.xp6(1),y.Q6J("ngForOf",e)}}const Q=function(e){return["customer-acquisition-add-edit",e]};function j(e,t){if(1&e&&(y.TgZ(0,"tr",43),y.TgZ(1,"td"),y.TgZ(2,"a",48),y._uU(3),y.qZA(),y.qZA(),y.TgZ(4,"td"),y._uU(5),y.qZA(),y.TgZ(6,"td"),y._uU(7),y.qZA(),y.TgZ(8,"td"),y._uU(9),y.qZA(),y.TgZ(10,"td"),y._uU(11),y.qZA(),y.TgZ(12,"td"),y._uU(13),y.qZA(),y.TgZ(14,"td"),y._uU(15),y.qZA(),y.TgZ(16,"td"),y._uU(17),y.qZA(),y.TgZ(18,"td"),y._uU(19),y.qZA(),y.TgZ(20,"td"),y._uU(21),y.qZA(),y.TgZ(22,"td"),y._uU(23),y.qZA(),y.TgZ(24,"td"),y._uU(25),y.qZA(),y.TgZ(26,"td"),y._uU(27),y.qZA(),y.TgZ(28,"td"),y._uU(29),y.qZA(),y.TgZ(30,"td"),y._uU(31),y.qZA(),y.TgZ(32,"td"),y._uU(33),y.qZA(),y.TgZ(34,"td"),y._uU(35),y.qZA(),y.TgZ(36,"td"),y._uU(37),y.qZA(),y.TgZ(38,"td"),y._uU(39),y.qZA(),y.qZA()),2&e){const e=t.$implicit,o=y.oxw();y.xp6(2),y.Q6J("routerLink",y.VKq(20,Q,e.id)),y.xp6(1),y.Oqu(e.leadNo),y.xp6(2),y.Oqu(e.customerName),y.xp6(2),y.Oqu(e.fatherHusbandName),y.xp6(2),y.Oqu(e.houseNo),y.xp6(2),y.Oqu(e.floor),y.xp6(2),y.Oqu(e.streetAreaSociety),y.xp6(2),y.Oqu(e.cityName),y.xp6(2),y.Oqu(e.stateName),y.xp6(2),y.Oqu(e.pincode),y.xp6(2),y.Oqu(e.mobile),y.xp6(2),y.Oqu(e.contactNo),y.xp6(2),y.Oqu(e.emailID),y.xp6(2),y.Oqu(e.typeOfOwnership),y.xp6(2),y.Oqu(e.orderDDChequeNo),y.xp6(2),y.Oqu(null!=e.paymentDate?o.service.Moment(e.paymentDate).format("MM-DD-YYYY"):""),y.xp6(2),y.Oqu(null!=e.drawnOn?o.service.Moment(e.drawnOn).format("MM-DD-YYYY"):""),y.xp6(2),y.Oqu(e.amount),y.xp6(2),y.Oqu(e.customerID),y.xp6(2),y.Oqu(e.formNo)}}function z(e,t){1&e&&(y.TgZ(0,"tr"),y.TgZ(1,"td",49),y._uU(2,"No Record Found."),y.qZA(),y.qZA())}const B=function(){return[10,20,30]};function E(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"div",50),y.TgZ(1,"p-paginator",51),y.NdJ("onPageChange",function(t){return y.CHM(e),y.oxw().paginate(t)}),y.qZA(),y.qZA()}if(2&e){const e=y.oxw();y.xp6(1),y.Q6J("rows",10)("totalRecords",e.totalRecords)("rowsPerPageOptions",y.DdM(3,B))}}const W=function(){return{width:"20vw"}},$=function(){return[]};let X=(()=>{class e{constructor(e,t,o,r,i,s){this.service=e,this.authService=t,this.formBuilder=o,this.dialog=r,this.location=i,this.routeUrl=s,this.oldUrl=v.N.oldUrl,this.getbulkSelect=[],this.zonesAll=[],this.filteredCustomers=[],this.displayArr=[],this.statusIdsName=[],this.zonesName=[],this.serviceIdsName=[],this.isgeneratePDFs=!1,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.paginateData=[0,10],this.paginateDataedit=[0,10],this.totalRecords=0,this.sotingname="",this.OrderBy="Asc",this.textsearch="",this.isAllSelect=!1,this.separatorKeysCodes=[q.K5,q.OC]}ngOnInit(){this.dashboardSearch=this.location.getState();const e=JSON.parse(localStorage.getItem("currentUser")||"{}");1!=e.roleID&&2!=e.roleID||(this.isgeneratePDFs=!0),this.bindColumns(),this.bindDropdowns()}bindDropdowns(){this.service.getLookups([this.service.constants.LookupCategories.ServicePriority,this.service.constants.LookupCategories.PreferredTime,this.service.constants.MasterCategories.ServiceMaster,this.service.constants.MasterCategories.ServiceStageMaster,this.service.constants.MasterCategories.CustomerStatus,this.service.constants.MasterCategories.ZoneMaster],e=>{e&&(this.StatusArr=e[this.service.constants.MasterCategories.CustomerStatus])}),this.initialize()}showBasicDialog(){this.displayModal=!0}bindColumns(){this.cols=[{header:"Sr. No",field:"leadNo"},{header:"Customer Name",field:"customerName"},{header:"Father's/Husband's Name",field:"fatherHusbandName"},{header:"House No.",field:"houseNo"},{header:"Floor",field:"floor"},{header:"Street/Area/Society",field:"streetAreaSociety"},{header:"City Name",field:"cityName"},{header:"State",field:"stateName"},{header:"Pincode",field:"pincode"},{header:"Mobile No.",field:"mobile"},{header:"Alternate No.",field:"contactNo"},{header:"Email",field:"emailID"},{header:"Type Of Ownership",field:"typeOfOwnership"},{header:"DD/Cheque No",field:"orderDDChequeNo"},{header:"Payment Date",field:"paymentDate"},{header:"Drawn On",field:"drawnOn"},{header:"Amount",field:"amount"},{header:"BP No.",field:"customerID"},{header:"Form No.",field:"formNo"}]}sotingData(e){"action"!=e&&(this.OrderBy=this.sotingname!=e||"Desc"==this.OrderBy?"Asc":"Desc",this.sotingname=e,this.paginateData[0]=this.paginateDataedit[0],this.paginateData[1]=this.paginateDataedit[1],this.search())}initialize(){const e=new A;this.searchForm=this.formBuilder.formGroup(e),setTimeout(()=>{this.search()},600)}reset(){this.searchForm.reset(),this.displayArr=[],this.filteredCustomers=[],this.totalRecords=0,this.CustomerAcquisitions=new Array}search(){if(this.isAllSelect=!1,this.getbulkSelect=[],this.searchForm.valid){this.displayModal=!1;let t=this.searchForm.getRawValue();if(this.searchData={customerName:this.filteredCustomers,mobile:t.mobile,dateFrom:t.requestFrom,dateTo:t.requestTo,status:t.status,take:this.paginateData[1],skip:this.paginateData[0],orderBy:""==this.sotingname?"leadNo":this.sotingname+" "+this.OrderBy,search:this.textsearch},this.displayArr=[],null!=this.filteredCustomers&&this.filteredCustomers.length>0){var e="Customers:"+this.filteredCustomers.join(",");this.displayArr.push(e)}null!=t.mobile&&""!=t.mobile&&this.displayArr.push(e="Mobile:"+t.mobile),null!=t.requestFrom&&null!=t.requestTo?(e="Date: Between "+this.service.Moment(t.requestFrom).format("MM-DD-YYYY")+" To "+this.service.Moment(t.requestTo).format("MM-DD-YYYY"),this.displayArr.push(e)):null!=t.requestFrom?(e="Date: From "+this.service.Moment(t.requestFrom).format("MM-DD-YYYY"),this.displayArr.push(e)):null!=t.requestTo&&(e="Date: To "+this.service.Moment(t.requestTo).format("MM-DD-YYYY"),this.displayArr.push(e)),null!=t.status&&""!=t.status&&(e="Status:"+this.StatusArr.filter(e=>e.keyName==t.status)[0].displayText,this.displayArr.push(e)),this.service.Customersearch(this.searchData).subscribe(e=>{e&&e.data&&e.data.result.length>0?(this.CustomerAcquisitions=e.data.result,this.paginateData[0]=0,this.totalRecords=e.data.rowCount):(this.CustomerAcquisitions=[],this.paginateData[0]=0,this.totalRecords=0)})}else this.service.notify.showError("Please enter the criteria")}removeCustomerId(e){var t;const o=this.filteredCustomers.indexOf(e);o>=0&&(this.filteredCustomers.splice(o,1),null===(t=this.searchForm.get("customerIds"))||void 0===t||t.setValue(this.filteredCustomers))}addNewSR(){this.routeUrl.navigate(["/customer-acquisition/customer-acquisition-add-edit/0"])}removeSearching(e){var t,o,r,i,s,n;if(this.displayArr.indexOf(e)>=0){var a=e.split(":");"Date"==a[0]?(null===(t=this.searchForm.get("requestFrom"))||void 0===t||t.setValue(null),null===(o=this.searchForm.get("requestTo"))||void 0===o||o.setValue(null)):"Customers"==a[0]?(null===(r=this.searchForm.get("customerIds"))||void 0===r||r.setValue(null),this.filteredCustomers=[]):"Mobile"==a[0]?null===(i=this.searchForm.get("mobile"))||void 0===i||i.setValue(null):"Status"==a[0]?null===(s=this.searchForm.get("status"))||void 0===s||s.setValue(null):("srNumbers"==a[0]||"customerIds"==a[0]&&(this.filteredCustomers=[]),null===(n=this.searchForm.get(a[0]))||void 0===n||n.setValue(null)),this.search()}}addCustomerId(e){var t;const o=(e.value||"").trim();o&&(this.filteredCustomers.push(o),null===(t=this.searchForm.get("customerIds"))||void 0===t||t.setValue(this.filteredCustomers)),e.chipInput.clear()}paginate(e){this.paginateData[0]=e.first,this.paginateData[1]=e.rows,this.paginateDataedit[0]=e.first,this.paginateDataedit[1]=e.rows,this.search()}exportCSV(){let e=this.searchForm.getRawValue();this.service.Customersearch({customerName:this.filteredCustomers,mobile:e.mobile,dateFrom:e.requestFrom,dateTo:e.requestTo,status:e.status,orderBy:""==this.sotingname?"leadNo":this.sotingname+" "+this.OrderBy,search:this.textsearch}).subscribe(e=>{e&&e.data&&e.data.result.length>0&&this.export(e.data.result)})}export(e){let t=[];e.forEach(e=>{let o={"Sr. No ":e.leadNo,"Customer Name ":e.customerName,"Father's/Husband's Name ":e.fatherHusbandName,"House No. ":e.houseNo,Floor:e.floor,"Street/Area/Society ":e.streetAreaSociety,"City Name ":e.cityName,"State ":e.stateName,"Pincode ":e.pincode,"Mobile No. ":e.mobile,"Alternate No. ":e.contactNo,"Email ":e.emailID,"Type Of Ownership ":e.typeOfOwnership,"DD/Cheque No ":e.orderDDChequeNo,"Payment Date ":null!=e.paymentDate?this.service.Moment(e.paymentDate).format("MM-DD-YYYY"):"","Drawn On ":null!=e.drawnOn?this.service.Moment(e.drawnOn).format("MM-DD-YYYY"):"","Amount ":e.amount,"BP No. ":e.customerID,"Form No. ":e.formNo};t.push(o)});let o=C(Date.now()).format("DDMMYY");const r=f.utils.book_new(),i=f.utils.json_to_sheet(t);i["!cols"]=[{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20},{wch:17},{wch:15},{wch:15},{wch:15},{wch:10}],f.utils.book_append_sheet(r,i,"Customer Acquisition"),f.writeFile(r,"Customer Acquisition List "+o+".xlsx")}searchbox(e){console.log(e),this.textsearch=e,this.search()}Assignmanpower(e){window.open(this.oldUrl+"/Account/LoginApp?page="+e+"&token="+this.authService.currentUserValue.token,"_blank")}}return e.\u0275fac=function(t){return new(t||e)(y.Y36(F),y.Y36(D.e),y.Y36(d.GW),y.Y36(M.uw),y.Y36(r.Ye),y.Y36(Z.F0))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-cadashboard"]],viewQuery:function(e,t){if(1&e&&y.Gf(P,5),2&e){let e;y.iGM(e=y.CRH())&&(t.customerId=e.first)}},decls:21,vars:22,consts:[["calss","CustomerAcquisitionsPage"],[1,"row"],[1,"col-12"],["header","Search","styleClass","searchDialog",3,"position","visible","modal","baseZIndex","draggable","resizable","visibleChange"],["class","formWrap",3,"formGroup","keydown.enter",4,"ngIf"],[1,"search"],[1,"searchHeader"],["class","criteria requestFormDataWrap",4,"ngIf"],[1,"btnWrap","mb-3","mt-2"],["matTooltip","Search","icon","pi pi-search",1,"cust-button",3,"click"],["matTooltip","Create Service Request","icon","pi pi-plus",1,"cust-button-primary",3,"click"],[1,"searchTable"],["class","btnWrap mb-3",4,"ngIf"],["sortMode","single",1,"",3,"value","columns","showCurrentPageReport","globalFilterFields","filterDelay","scrollable","rowHover"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","content-section implementation ",4,"ngIf"],[1,"formWrap",3,"formGroup","keydown.enter"],[1,"form-group"],["type","text","pInputText","","formControlName","customerIds",1,"form-control","abc",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[3,"ngClass"],["aria-label","Customers"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["mask","9999999999","formControlName","mobile"],["type","date","formControlName","requestFrom",1,"form-control"],["type","date","formControlName","requestTo",1,"form-control"],["appendTo","body","formControlName","status","optionValue","keyName","optionLabel","displayText","placeholder","-Select-",1,"ui-input",3,"options"],[1,"btnWrap"],["type","button","mat-button","","color","secondary",3,"click"],["type","submit","mat-button","","color","primary",3,"click"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[1,"criteria","requestFormDataWrap"],[1,"chipContainer"],["aria-label","Service Request Number"],["srChipList",""],[1,"btnWrap","mb-3"],["matTooltip","Export to CSV","icon","pi pi-file-excel",1,"cust-button",3,"click"],["pInputText","","type","text","placeholder","Search",1,"p-inputtext","p-component",3,"input"],[1,"searchTr"],["id","header",3,"pSortableColumn","click",4,"ngFor","ngForOf"],["id","header",3,"pSortableColumn","click"],[3,"field",4,"ngIf"],[3,"field"],[3,"routerLink"],["colspan","13"],[1,"content-section","implementation"],[3,"rows","totalRecords","rowsPerPageOptions","onPageChange"]],template:function(e,t){1&e&&(y.TgZ(0,"section",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"h1"),y._uU(4),y.qZA(),y.qZA(),y.qZA(),y.TgZ(5,"p-dialog",3),y.NdJ("visibleChange",function(e){return t.displayModal=e}),y.YNc(6,k,41,7,"form",4),y.qZA(),y.TgZ(7,"div",5),y.TgZ(8,"div",6),y.YNc(9,R,7,1,"div",7),y.TgZ(10,"div",8),y.TgZ(11,"p-button",9),y.NdJ("click",function(){return t.showBasicDialog()}),y.qZA(),y.TgZ(12,"p-button",10),y.NdJ("click",function(){return t.addNewSR()}),y.qZA(),y.qZA(),y.qZA(),y.TgZ(13,"div",11),y.YNc(14,L,5,0,"div",12),y.TgZ(15,"p-table",13,14),y.YNc(17,H,2,1,"ng-template",15),y.YNc(18,j,40,22,"ng-template",16),y.YNc(19,z,3,0,"ng-template",17),y.qZA(),y.YNc(20,E,2,4,"div",18),y.qZA(),y.qZA(),y.qZA()),2&e&&(y.xp6(4),y.hij("Customer Acquisition List (",t.totalRecords,")"),y.xp6(1),y.Akn(y.DdM(20,W)),y.Q6J("position","right")("visible",t.displayModal)("modal",!0)("baseZIndex",-100)("draggable",!1)("resizable",!1),y.xp6(1),y.Q6J("ngIf",t.searchForm),y.xp6(3),y.Q6J("ngIf",t.displayArr.length>0),y.xp6(5),y.Q6J("ngIf",t.CustomerAcquisitions&&t.CustomerAcquisitions.length>0),y.xp6(1),y.Q6J("value",t.CustomerAcquisitions)("columns",t.cols)("showCurrentPageReport",!0)("globalFilterFields",y.DdM(21,$))("filterDelay",0)("scrollable",!0)("rowHover",!0),y.xp6(5),y.Q6J("ngIf",t.totalRecords>10))},directives:[l.V,r.O5,c.zx,N.gM,a.iA,_.jx,n._Y,n.JL,d.w5,n.sg,n.Fj,w.oH,d.x0,d.bf,n.JJ,n.u,r.mk,w.qn,r.sg,h.vy,I.Lt,O.lW,w.HS,x.Hw,w.qH,a.lQ,a.fz,Z.yS,u.D],styles:["#test[_ngcontent-%COMP%]     .mat-form-field-hide-placeholder .mat-form-field-label-wrapper{text-align:center;top:-25px}#test[_ngcontent-%COMP%]     .mat-form-field-should-float{text-align:center}.search[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%]{width:200px!important;border-color:#b5b0b0;margin-right:10px;line-height:32px}.search[_ngcontent-%COMP%]   .searchHeader[_ngcontent-%COMP%]{padding:10px 10px 0 0}.search[_ngcontent-%COMP%]   .searchHeader[_ngcontent-%COMP%]   .criteria[_ngcontent-%COMP%]{float:left;width:95%;align-items:self-start}.search[_ngcontent-%COMP%]   .searchTable[_ngcontent-%COMP%]{background-color:#fff;padding:20px 0;min-height:400px}.search[_ngcontent-%COMP%]   .requestFormDataWrap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;margin:4px 0 10px}.search[_ngcontent-%COMP%]   .requestFormDataWrap[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   .requestFormDataWrap[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;padding:0 10px;border:1px solid #ffd400;background-color:#fff;line-height:46px}.search[_ngcontent-%COMP%]   .requestFormDataWrap[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#ffd400;line-height:44px}.search[_ngcontent-%COMP%]   .requestFormDataWrap[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:20px;line-height:38px;width:93%}.search[_ngcontent-%COMP%]   .requestFormDataWrap[_ngcontent-%COMP%]   .chipContainer[_ngcontent-%COMP%]{padding:6px;max-height:84px;min-height:46px;overflow-x:hidden;overflow-y:auto}tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:400px}tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:120px}tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4){width:133px}tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5), tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6){width:120px}tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(7), tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(8), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(7), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(8){width:150px}tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(9), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(9){width:133px}tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(10), tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(11), tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(12), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(10), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(11), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(12){width:200px}tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(13), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(13){width:133px}tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(14), tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(15), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(14), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(15){width:120px}tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(16), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(16){width:85px}tr.searchTr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(17), tr.searchTr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(17){width:60px}"]}),e})();class K{constructor(e){e&&(this.id=e.id,this.titleID=e.titleID?e.titleID.toString():null,this.customerName=e.customerName,this.mobile=e.mobile,this.fatherHusbandNameID=e.fatherHusbandNameID?e.fatherHusbandNameID.toString():null,this.fatherHusbandName=e.fatherHusbandName,this.houseNo=e.houseNo,this.floor=e.floor,this.streetAreaSociety=e.streetAreaSociety,this.stateID=e.stateID?e.stateID.toString():null,this.cityID=e.cityID?e.cityID.toString():null,this.zoneId=e.zoneId?e.zoneId.toString():null,this.pincode=e.pincode,this.aadhaarNo=e.aadhaarNo,this.contactNo=e.contactNo,this.typeOfOwnershipID=e.typeOfOwnershipID?e.typeOfOwnershipID.toString():null,this.emailID=e.emailID,this.photoIDFilename=e.photoIDFilename,this.addressProofFilename=e.addressProofFilename,this.registrationFilename1=e.registrationFilename1,this.registrationFilename2=e.registrationFilename2,this.employeeId=e.employeeId?e.employeeId.toString():null,this.isLPGConnection=null==e.isLPGConnection?null:e.isLPGConnection?"1":"2",this.lpgConnectionNameID=e.lpgConnectionNameID?e.lpgConnectionNameID.toString():null,this.lpgDistributor=e.lpgDistributor,this.lpgid=e.lpgid,this.consumerNo=e.consumerNo,this.paymentMethod=e.paymentMethod?e.paymentMethod.toString():null,this.orderDDChequeNo=e.orderDDChequeNo,this.paymentDate=e.paymentDate,this.drawnOn=e.drawnOn,this.amount=e.amount,this.photoIDFile=e.photoIDFile,this.addressProofFile=e.addressProofFile,this.registrationFile1=e.registrationFile1,this.registrationFile2=e.registrationFile2,this.photoIDFilenameOld=e.photoIDFilename,this.addressProofFilenameOld=e.addressProofFilename,this.registrationFilename1Old=e.registrationFilename1,this.registrationFilename2Old=e.registrationFilename2,this.customerID=e.customerID,this.formNo=e.formNo)}}(0,T.gn)([(0,d.vg)()],K.prototype,"photoIDFilenameOld",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"addressProofFilenameOld",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"registrationFilename1Old",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"registrationFilename2Old",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"photoIDFile",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"addressProofFile",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"registrationFile1",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"registrationFile2",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"id",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"titleID",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"customerName",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"mobile",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"fatherHusbandNameID",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"fatherHusbandName",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"houseNo",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"floor",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"streetAreaSociety",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"stateID",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"cityID",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"zoneId",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"pincode",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"aadhaarNo",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"contactNo",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"typeOfOwnershipID",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"emailID",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"photoIDFilename",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"addressProofFilename",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"registrationFilename1",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"registrationFilename2",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"isLPGConnection",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"lpgConnectionNameID",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"lpgDistributor",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"lpgid",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"consumerNo",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"paymentMethod",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"orderDDChequeNo",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"paymentDate",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"drawnOn",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"amount",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"entryBy",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"employeeId",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"status",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"customerID",void 0),(0,T.gn)([(0,d.vg)()],K.prototype,"formNo",void 0);class ee{constructor(e){this.request=e?new K(e.request):new K}}(0,T.gn)([(0,d.o1)(K)],ee.prototype,"request",void 0);var te=o(8227);let oe=(()=>{class e extends b.b{constructor(e){super(e),this.getbyId=e=>this.api.get(this.apiProxy.ServiceRequest.getbyId(e)),this.getMaterials=()=>this.api.get(this.apiProxy.ServiceRequest.getMaterials()),this.CustomerAcquistion=e=>this.api.post(this.apiProxy.ServiceRequest.CustomerAcquistionSave(),e),this.customerMasterReject=e=>this.api.post(this.apiProxy.ServiceRequest.customerMasterReject(),e)}}return e.\u0275fac=function(t){return new(t||e)(y.LFG(y.zs3))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const re=function(e){return{"is-invalid  ng-dirty":e}};function ie(e,t){if(1&e&&(y.TgZ(0,"form",5),y.TgZ(1,"div",6),y.TgZ(2,"div",7),y.TgZ(3,"div",8),y.TgZ(4,"label"),y._uU(5,"Reject Details"),y.TgZ(6,"span",9),y._uU(7,"*"),y.qZA(),y.qZA(),y._UZ(8,"input",10),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.Q6J("formGroup",e.rejectDetailsForm),y.xp6(8),y.Q6J("ngClass",y.VKq(3,re,e.rejectDetailsForm.controls.reject.touched&&e.rejectDetailsForm.controls.reject.errors))("required",!0)}}let se=(()=>{class e{constructor(e,t,o,r,i,s,n){this.formBuilder=e,this.service=t,this.authService=o,this.fb=r,this.routeUrl=i,this.data=s,this.dialogRef=n}ngOnInit(){this.rejectDetailsForm=this.fb.group({reject:[""]})}addRejectDetails(){if(this.rejectDetailsForm.valid){const e=this.rejectDetailsForm.getRawValue();let t={id:this.data.requestId,entryBy:this.authService.currentUserValue.id,rejectReason:e.reject};console.log(t),console.log(this.data),this.service.customerMasterReject(t).subscribe(e=>{"success"==e.status?(this.service.notify.showSuccess("Customer Acquisition REJECTED successfully"),this.dialogRef.close(),this.routeUrl.navigate(["/customer-acquisition"])):e.errors.forEach((e,t)=>{console.log(e.errorMessage),this.service.notify.showSuccess(e.errorMessage)})})}else this.service.notify.showDefaultError()}cancel(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(y.Y36(d.GW),y.Y36(oe),y.Y36(D.e),y.Y36(n.qu),y.Y36(Z.F0),y.Y36(M.WI),y.Y36(M.so))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-reject-details"]],inputs:{requestId:"requestId",requestForm:"requestForm"},decls:11,vars:1,consts:[[1,"mat-dialog-title"],["class","formWrap",3,"formGroup",4,"ngIf"],[1,"btnWrap"],["mat-button","","color","secondary",3,"click"],["mat-button","","color","primary",3,"click"],[1,"formWrap",3,"formGroup"],[1,"row"],[1,"col-6"],[1,"form-group"],[1,"mandatoryField"],["type","text","formControlName","reject","required","","id","file",1,"form-control",3,"ngClass","required"]],template:function(e,t){1&e&&(y.TgZ(0,"div"),y.TgZ(1,"div",0),y._uU(2,"Reject Details"),y.qZA(),y.TgZ(3,"mat-dialog-content"),y.YNc(4,ie,9,5,"form",1),y.qZA(),y.TgZ(5,"mat-dialog-actions"),y.TgZ(6,"div",2),y.TgZ(7,"button",3),y.NdJ("click",function(){return t.cancel()}),y._uU(8,"Cancel"),y.qZA(),y.TgZ(9,"button",4),y.NdJ("click",function(){return t.addRejectDetails()}),y._uU(10,"Submit"),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&e&&(y.xp6(4),y.Q6J("ngIf",t.rejectDetailsForm))},directives:[M.xY,r.O5,M.H8,O.lW,n._Y,n.JL,d.w5,n.sg,n.Fj,d.x0,d.bf,n.JJ,n.u,n.Q7,r.mk],styles:[""]}),e})();var ne=o(5939),ae=o(3738);let le=(()=>{class e extends b.b{constructor(e){super(e),this.GetEmployeeListByZoneIdAndTypeId=e=>this.api.post(this.apiProxy.ServiceRequest.GetEmployeeListByZoneIdAndTypeId(),e),this.CustomerDocuments=(e,t)=>this.api.get1(this.apiProxy.ServiceRequest.CustomerDocuments(e,t))}}return e.\u0275fac=function(t){return new(t||e)(y.LFG(y.zs3))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ce(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"mat-card-content",1),y.TgZ(1,"div",2),y.TgZ(2,"div",3),y.TgZ(3,"div",4),y.TgZ(4,"label"),y._uU(5,"Title"),y.qZA(),y._UZ(6,"p-dropdown",5),y.qZA(),y.qZA(),y.TgZ(7,"div",3),y.TgZ(8,"div",4),y.TgZ(9,"label"),y._uU(10,"Customer Name"),y.qZA(),y._UZ(11,"input",6),y.qZA(),y.qZA(),y.TgZ(12,"div",3),y.TgZ(13,"div",4),y.TgZ(14,"label"),y._uU(15,"Father's/Husband's Name"),y.qZA(),y._UZ(16,"p-dropdown",7),y.qZA(),y.qZA(),y.qZA(),y.TgZ(17,"div",2),y.TgZ(18,"div",3),y.TgZ(19,"div",4),y.TgZ(20,"label"),y._uU(21,"Father's/Husband's Name"),y.qZA(),y._UZ(22,"input",8),y.qZA(),y.qZA(),y.TgZ(23,"div",3),y.TgZ(24,"div",4),y.TgZ(25,"label"),y._uU(26,"House No."),y.qZA(),y._UZ(27,"input",9),y.qZA(),y.qZA(),y.TgZ(28,"div",3),y.TgZ(29,"div",4),y.TgZ(30,"label"),y._uU(31,"Floor"),y.qZA(),y._UZ(32,"input",10),y.qZA(),y.qZA(),y.qZA(),y.TgZ(33,"div",2),y.TgZ(34,"div",3),y.TgZ(35,"div",4),y.TgZ(36,"label"),y._uU(37,"Street/Area/Society"),y.qZA(),y._UZ(38,"input",11),y.qZA(),y.qZA(),y.TgZ(39,"div",3),y.TgZ(40,"div",4),y.TgZ(41,"label"),y._uU(42,"State"),y.qZA(),y._UZ(43,"p-dropdown",12),y.qZA(),y.qZA(),y.TgZ(44,"div",3),y.TgZ(45,"div",4),y.TgZ(46,"label"),y._uU(47,"City"),y.qZA(),y._UZ(48,"p-dropdown",13),y.qZA(),y.qZA(),y.qZA(),y.TgZ(49,"div",2),y.TgZ(50,"div",3),y.TgZ(51,"div",4),y.TgZ(52,"label"),y._uU(53,"Zone"),y.qZA(),y._UZ(54,"p-dropdown",14),y.qZA(),y.qZA(),y.TgZ(55,"div",3),y.TgZ(56,"div",4),y.TgZ(57,"label"),y._uU(58,"Pincode"),y.qZA(),y._UZ(59,"input",15),y.qZA(),y.qZA(),y.TgZ(60,"div",3),y.TgZ(61,"div",4),y.TgZ(62,"label"),y._uU(63,"AadhaarNo"),y.qZA(),y._UZ(64,"input",16),y.qZA(),y.qZA(),y.qZA(),y.TgZ(65,"div",2),y.TgZ(66,"div",3),y.TgZ(67,"div",4),y.TgZ(68,"label"),y._uU(69,"MobileNo"),y.qZA(),y._UZ(70,"p-inputMask",17),y.qZA(),y.qZA(),y.TgZ(71,"div",3),y.TgZ(72,"div",4),y.TgZ(73,"label"),y._uU(74,"ContactNo"),y.qZA(),y._UZ(75,"p-inputMask",18),y.qZA(),y.qZA(),y.TgZ(76,"div",3),y.TgZ(77,"div",4),y.TgZ(78,"label"),y._uU(79,"Type Of Ownership"),y.qZA(),y._UZ(80,"p-dropdown",19),y.qZA(),y.qZA(),y.qZA(),y.TgZ(81,"div",2),y.TgZ(82,"div",3),y.TgZ(83,"div",4),y.TgZ(84,"label"),y._uU(85,"Email"),y.qZA(),y._UZ(86,"input",20),y.qZA(),y.qZA(),y.TgZ(87,"div",3),y.TgZ(88,"div",4),y.TgZ(89,"label"),y._uU(90,"RegistrationForm1"),y.qZA(),y.TgZ(91,"input",21),y.NdJ("change",function(t){return y.CHM(e),y.oxw().RegistrationForm1FileInput(t)}),y.qZA(),y.TgZ(92,"a",22),y.NdJ("click",function(){y.CHM(e);const t=y.oxw();let o;return t.viewCustomerDocuments(null==(o=t.requestForm.controls.request.get("registrationFilename1Old"))?null:o.value)}),y._uU(93),y.qZA(),y.qZA(),y.qZA(),y.TgZ(94,"div",3),y.TgZ(95,"div",4),y.TgZ(96,"label"),y._uU(97,"RegistrationForm2"),y.qZA(),y.TgZ(98,"input",23),y.NdJ("change",function(t){return y.CHM(e),y.oxw().RegistrationForm2FileInput(t)}),y.qZA(),y.TgZ(99,"a",22),y.NdJ("click",function(){y.CHM(e);const t=y.oxw();let o;return t.viewCustomerDocuments(null==(o=t.requestForm.controls.request.get("registrationFilename2Old"))?null:o.value)}),y._uU(100),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(101,"div",2),y.TgZ(102,"div",3),y.TgZ(103,"div",4),y.TgZ(104,"label"),y._uU(105,"PhotoID"),y.qZA(),y.TgZ(106,"input",24),y.NdJ("change",function(t){return y.CHM(e),y.oxw().PhotoIDFileInput(t)}),y.qZA(),y.TgZ(107,"a",22),y.NdJ("click",function(){y.CHM(e);const t=y.oxw();let o;return t.viewCustomerDocuments(null==(o=t.requestForm.controls.request.get("photoIDFilenameOld"))?null:o.value)}),y._uU(108),y.qZA(),y.qZA(),y.qZA(),y.TgZ(109,"div",3),y.TgZ(110,"div",4),y.TgZ(111,"label"),y._uU(112,"AddressProof"),y.qZA(),y.TgZ(113,"input",25),y.NdJ("change",function(t){return y.CHM(e),y.oxw().AddressProofFileInput(t)}),y.qZA(),y.TgZ(114,"a",22),y.NdJ("click",function(){y.CHM(e);const t=y.oxw();let o;return t.viewCustomerDocuments(null==(o=t.requestForm.controls.request.get("addressProofFilenameOld"))?null:o.value)}),y._uU(115),y.qZA(),y.qZA(),y.qZA(),y.TgZ(116,"div",3),y.TgZ(117,"div",4),y.TgZ(118,"label"),y._uU(119,"ManPower"),y.qZA(),y._UZ(120,"p-dropdown",26),y.qZA(),y.qZA(),y.qZA(),y.TgZ(121,"div",2),y.TgZ(122,"div",3),y.TgZ(123,"div",4),y.TgZ(124,"label"),y._uU(125,"BP No."),y.qZA(),y._UZ(126,"input",27),y.qZA(),y.qZA(),y.TgZ(127,"div",3),y.TgZ(128,"div",4),y.TgZ(129,"label"),y._uU(130,"FormNo"),y.qZA(),y._UZ(131,"input",28),y.qZA(),y.qZA(),y.TgZ(132,"div",3),y.TgZ(133,"div",4),y.TgZ(134,"label"),y._uU(135,"\xa0"),y.qZA(),y._uU(136," \xa0 "),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){const e=y.oxw();let t,o,r,i;y.Q6J("formGroup",e.CustomerAcquisitionDetail),y.xp6(6),y.Q6J("options",e.TitleArr),y.xp6(10),y.Q6J("options",e.CustomerNameTypeArr),y.xp6(27),y.Q6J("options",e.StateArr),y.xp6(5),y.Q6J("options",e.filteredCityArr),y.xp6(6),y.Q6J("options",e.filteredZoneMasterArr),y.xp6(26),y.Q6J("options",e.OwnershipType),y.xp6(13),y.Oqu(null==(t=e.requestForm.controls.request.get("registrationFilename1Old"))?null:t.value),y.xp6(7),y.Oqu(null==(o=e.requestForm.controls.request.get("registrationFilename2Old"))?null:o.value),y.xp6(8),y.Oqu(null==(r=e.requestForm.controls.request.get("photoIDFilenameOld"))?null:r.value),y.xp6(7),y.Oqu(null==(i=e.requestForm.controls.request.get("addressProofFilenameOld"))?null:i.value),y.xp6(5),y.Q6J("options",e.ManPowerArr)}}let ue=(()=>{class e{constructor(e,t){this.service=e,this.route=t}ngOnInit(){this.requestId=this.route.snapshot.params.id,this.bindDropdowns(),this.detectValueChanges(),this.detectValueChanges1()}bindDropdowns(){this.StateArr=this.lookups[this.service.constants.MasterCategories.StateMaster],this.CityArr=this.lookups[this.service.constants.MasterCategories.CityMaster],this.ZoneMasterArr=this.lookups[this.service.constants.MasterCategories.AllZoneMaster],this.serviceNames=this.lookups[this.service.constants.MasterCategories.ServiceMaster],this.TitleArr=this.lookups[this.service.constants.MasterCategories.CustomerTitle],this.CustomerNameTypeArr=this.lookups[this.service.constants.MasterCategories.CustomerNameType],this.OwnershipType=this.lookups[this.service.constants.MasterCategories.OwnershipType]}get CustomerAcquisitionDetail(){return this.requestForm.controls.request}detectValueChanges1(){var e,t,o,r,i,s,n;if((null===(e=this.requestForm.controls.request.get("stateID"))||void 0===e?void 0:e.value)?this.filteredCityArr=this.CityArr.filter(e=>{var t;return e.parent===(null===(t=this.requestForm.controls.request.get("stateID"))||void 0===t?void 0:t.value)}):(null===(t=this.requestForm.controls.request.get("cityID"))||void 0===t||t.setValue(null),this.filteredCityArr=new Array),(null===(o=this.requestForm.controls.request.get("cityID"))||void 0===o?void 0:o.value)?this.filteredZoneMasterArr=this.ZoneMasterArr.filter(e=>{var t;return e.parent===(null===(t=this.requestForm.controls.request.get("cityID"))||void 0===t?void 0:t.value)}):(null===(r=this.requestForm.controls.request.get("zoneId"))||void 0===r||r.setValue(null),this.filteredZoneMasterArr=new Array),null===(i=this.requestForm.controls.request.get("zoneId"))||void 0===i?void 0:i.value){let e={userTypeId:2,zoneId:null===(s=this.requestForm.controls.request.get("zoneId"))||void 0===s?void 0:s.value};this.service.GetEmployeeListByZoneIdAndTypeId(e).subscribe(e=>{"success"==e.status&&(this.ManPowerArr=e.data)})}else null===(n=this.requestForm.controls.request.get("employeeId"))||void 0===n||n.setValue(null),this.ManPowerArr=new Array}detectValueChanges(){var e,t,o;null===(e=this.requestForm.controls.request.get("stateID"))||void 0===e||e.valueChanges.subscribe(e=>{var t,o;e?(null===(t=this.requestForm.controls.request.get("cityID"))||void 0===t||t.setValue(null),this.filteredCityArr=this.CityArr.filter(t=>t.parent===e)):(null===(o=this.requestForm.controls.request.get("cityID"))||void 0===o||o.setValue(null),this.filteredCityArr=new Array)}),null===(t=this.requestForm.controls.request.get("cityID"))||void 0===t||t.valueChanges.subscribe(e=>{var t,o;e?(null===(t=this.requestForm.controls.request.get("zoneId"))||void 0===t||t.setValue(null),this.filteredZoneMasterArr=this.ZoneMasterArr.filter(t=>t.parent===e)):(null===(o=this.requestForm.controls.request.get("zoneId"))||void 0===o||o.setValue(null),this.filteredZoneMasterArr=new Array)}),null===(o=this.requestForm.controls.request.get("zoneId"))||void 0===o||o.valueChanges.subscribe(e=>{var t;e?this.service.GetEmployeeListByZoneIdAndTypeId({userTypeId:2,zoneId:e}).subscribe(e=>{"success"==e.status&&(this.ManPowerArr=e.data)}):(null===(t=this.requestForm.controls.request.get("employeeId"))||void 0===t||t.setValue(null),this.ManPowerArr=new Array)})}RegistrationForm1FileInput(e){var t,o,r;if(e.target.files[0]){this.RegistrationForm1Name=e.target.files[0].name,null===(t=this.requestForm.controls.request.get("registrationFilename1"))||void 0===t||t.setValue(e.target.files[0].name);const o=e.target.files[0],r=new FileReader;r.readAsDataURL(o),r.onload=()=>{var e;this.RegistrationForm1ToUpload=r.result,this.RegistrationForm1ToUploadarr=this.RegistrationForm1ToUpload.split(","),null===(e=this.requestForm.controls.request.get("registrationFile1"))||void 0===e||e.setValue(this.RegistrationForm1ToUploadarr[1])}}else this.RegistrationForm1ToUploadarr=[],this.RegistrationForm1ToUpload="",null===(o=this.requestForm.controls.request.get("registrationFile1"))||void 0===o||o.setValue(null),null===(r=this.requestForm.controls.request.get("registrationFilename1"))||void 0===r||r.setValue(null)}RegistrationForm2FileInput(e){var t,o,r;if(e.target.files[0]){this.RegistrationForm2Name=e.target.files[0].name,null===(t=this.requestForm.controls.request.get("registrationFilename2"))||void 0===t||t.setValue(e.target.files[0].name);const o=e.target.files[0],r=new FileReader;r.readAsDataURL(o),r.onload=()=>{var e;this.RegistrationForm2ToUpload=r.result,this.RegistrationForm2ToUploadarr=this.RegistrationForm2ToUpload.split(","),null===(e=this.requestForm.controls.request.get("registrationFile2"))||void 0===e||e.setValue(this.RegistrationForm2ToUploadarr[1])}}else this.RegistrationForm2ToUploadarr=[],this.RegistrationForm2ToUpload="",null===(o=this.requestForm.controls.request.get("registrationFilename3"))||void 0===o||o.setValue(null),null===(r=this.requestForm.controls.request.get("registrationFile2"))||void 0===r||r.setValue(null)}PhotoIDFileInput(e){var t,o,r;if(e.target.files[0]){this.PhotoIDName=e.target.files[0].name,null===(t=this.requestForm.controls.request.get("photoIDFilename"))||void 0===t||t.setValue(e.target.files[0].name);const o=e.target.files[0],r=new FileReader;r.readAsDataURL(o),r.onload=()=>{var e;this.PhotoIDToUpload=r.result,this.PhotoIDToUploadarr=this.PhotoIDToUpload.split(","),null===(e=this.requestForm.controls.request.get("photoIDFile"))||void 0===e||e.setValue(this.PhotoIDToUploadarr[1])}}else this.PhotoIDToUploadarr=[],this.PhotoIDToUpload="",null===(o=this.requestForm.controls.request.get("photoIDFilename"))||void 0===o||o.setValue(null),null===(r=this.requestForm.controls.request.get("photoIDFile"))||void 0===r||r.setValue(null)}AddressProofFileInput(e){var t,o,r;if(e.target.files[0]){this.AddressProofName=e.target.files[0].name,null===(t=this.requestForm.controls.request.get("addressProofFilename"))||void 0===t||t.setValue(e.target.files[0].name);const o=e.target.files[0],r=new FileReader;r.readAsDataURL(o),r.onload=()=>{var e;this.AddressProofToUpload=r.result,this.AddressProofToUploadarr=this.AddressProofToUpload.split(","),null===(e=this.requestForm.controls.request.get("addressProofFile"))||void 0===e||e.setValue(this.AddressProofToUploadarr[1])}}else this.AddressProofToUploadarr=[],this.AddressProofToUpload="",null===(o=this.requestForm.controls.request.get("addressProofFilename"))||void 0===o||o.setValue(null),null===(r=this.requestForm.controls.request.get("addressProofFile"))||void 0===r||r.setValue(null)}viewCustomerDocuments(e){this.service.CustomerDocuments(this.requestId,e).subscribe(t=>{console.log(t),this.blob=new Blob([t],{type:"application/jpg"});var o=window.URL.createObjectURL(this.blob),r=document.createElement("a");r.href=o,r.download=e,r.click()},e=>{this.service.notify.showError("File Not Found")})}}return e.\u0275fac=function(t){return new(t||e)(y.Y36(le),y.Y36(Z.gz))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-acquisition-details"]],inputs:{requestId:"requestId",requestForm:"requestForm",lookups:"lookups"},decls:1,vars:1,consts:[["class","formWrap",3,"formGroup",4,"ngIf"],[1,"formWrap",3,"formGroup"],[1,"row"],[1,"col-4"],[1,"form-group"],["appendTo","body","optionValue","keyName","formControlName","titleID","optionLabel","displayText","placeholder","-Select-",1,"ui-input",3,"options"],["type","text","formControlName","customerName","placeholder","Customer Name",1,"form-control"],["appendTo","body","optionValue","keyName","formControlName","fatherHusbandNameID","optionLabel","displayText","placeholder","-Select-",1,"ui-input",3,"options"],["type","text","formControlName","fatherHusbandName","placeholder","Father's/Husband's Name",1,"form-control"],["type","text","formControlName","houseNo","placeholder","House No",1,"form-control"],["type","text","formControlName","floor","placeholder","Floor",1,"form-control"],["type","text","formControlName","streetAreaSociety","placeholder","Street/Area/Society",1,"form-control"],["appendTo","body","optionValue","keyName","formControlName","stateID","optionLabel","displayText","placeholder","-Select-",1,"ui-input",3,"options"],["appendTo","body","optionValue","keyName","formControlName","cityID","optionLabel","displayText","placeholder","-Select-",1,"ui-input",3,"options"],["appendTo","body","optionValue","keyName","formControlName","zoneId","optionLabel","displayText","placeholder","-Select-",1,"ui-input",3,"options"],["type","text","formControlName","pincode","placeholder","Pincode",1,"form-control"],["type","text","formControlName","aadhaarNo","placeholder","Aadhaar No",1,"form-control"],["mask","9999999999","formControlName","mobile"],["mask","9999999999","formControlName","contactNo"],["appendTo","body","optionValue","keyName","formControlName","typeOfOwnershipID","optionLabel","displayText","placeholder","-Select-",1,"ui-input",3,"options"],["type","text","formControlName","emailID","placeholder","Email",1,"form-control"],["type","file","formControlName","registrationFilename1","accept","image/png, image/gif, image/jpeg","id","file1",1,"form-control",3,"change"],[2,"color","#0a86dc","cursor","pointer",3,"click"],["type","file","formControlName","registrationFilename2","accept","image/png, image/gif, image/jpeg","id","file2",1,"form-control",3,"change"],["type","file","formControlName","photoIDFilename","accept","image/png, image/gif, image/jpeg","id","file3",1,"form-control",3,"change"],["type","file","formControlName","addressProofFilename","accept","image/png, image/gif, image/jpeg","id","file4",1,"form-control",3,"change"],["appendTo","body","optionValue","keyName","formControlName","employeeId","optionLabel","displayText","placeholder","-Select-",1,"ui-input",3,"options"],["type","text","formControlName","customerID","placeholder","BP No.",1,"form-control"],["type","text","formControlName","formNo","placeholder","FormNo",1,"form-control"]],template:function(e,t){1&e&&y.YNc(0,ce,137,12,"mat-card-content",0),2&e&&y.Q6J("ngIf",t.CustomerAcquisitionDetail)},directives:[r.O5,ae.dn,d.w5,n.JL,n.sg,I.Lt,d.x0,d.bf,n.JJ,n.u,n.Fj,h.vy,d.Yi,d.A3],styles:[""]}),e})(),de=(()=>{class e extends b.b{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(y.LFG(y.zs3))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function pe(e,t){if(1&e&&(y.TgZ(0,"mat-card-content",1),y.TgZ(1,"div",2),y.TgZ(2,"div",3),y.TgZ(3,"div",4),y.TgZ(4,"label"),y._uU(5,"LPG Connection"),y.qZA(),y._UZ(6,"p-dropdown",5),y.qZA(),y.qZA(),y.TgZ(7,"div",3),y.TgZ(8,"div",4),y.TgZ(9,"label"),y._uU(10,"LPG Connection Name"),y.qZA(),y._UZ(11,"p-dropdown",6),y.qZA(),y.qZA(),y.TgZ(12,"div",3),y.TgZ(13,"div",4),y.TgZ(14,"label"),y._uU(15,"LPG Distributor"),y.qZA(),y._UZ(16,"input",7),y.qZA(),y.qZA(),y.qZA(),y.TgZ(17,"div",2),y.TgZ(18,"div",3),y.TgZ(19,"div",4),y.TgZ(20,"label"),y._uU(21,"Unique LPGID (17 Digits)"),y.qZA(),y._UZ(22,"p-inputMask",8),y.qZA(),y.qZA(),y.TgZ(23,"div",3),y.TgZ(24,"div",4),y.TgZ(25,"label"),y._uU(26,"Consumer No"),y.qZA(),y._UZ(27,"input",9),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.Q6J("formGroup",e.RequestDetail),y.xp6(6),y.Q6J("options",e.LPGConnection),y.xp6(5),y.Q6J("options",e.LPGConnectionName)}}let he=(()=>{class e{constructor(e){this.service=e}ngOnInit(){this.bindDropdowns()}bindDropdowns(){this.serviceNames=this.lookups[this.service.constants.MasterCategories.ServiceMaster],this.LPGConnection=this.lookups[this.service.constants.MasterCategories.YesNo],this.LPGConnectionName=this.lookups[this.service.constants.MasterCategories.LPGConnectionName]}get RequestDetail(){return this.requestForm.controls.request}}return e.\u0275fac=function(t){return new(t||e)(y.Y36(de))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-customer-lpgconnection-details"]],inputs:{requestId:"requestId",requestForm:"requestForm",lookups:"lookups"},decls:1,vars:1,consts:[["class","formWrap",3,"formGroup",4,"ngIf"],[1,"formWrap",3,"formGroup"],[1,"row"],[1,"col-4"],[1,"form-group"],["appendTo","body","optionValue","keyName","formControlName","isLPGConnection","optionLabel","displayText","placeholder","-Select-",1,"ui-input",3,"options"],["appendTo","body","optionValue","keyName","formControlName","lpgConnectionNameID","optionLabel","displayText","placeholder","-Select-",1,"ui-input",3,"options"],["type","text","formControlName","lpgDistributor","placeholder","LPG Distributor",1,"form-control"],["mask","99999999999999999","formControlName","lpgid"],["type","text","formControlName","consumerNo","placeholder","Consumer No",1,"form-control"]],template:function(e,t){1&e&&y.YNc(0,pe,28,3,"mat-card-content",0),2&e&&y.Q6J("ngIf",t.RequestDetail)},directives:[r.O5,ae.dn,d.w5,n.JL,n.sg,I.Lt,d.x0,d.bf,n.JJ,n.u,n.Fj,h.vy],styles:[""]}),e})(),ge=(()=>{class e extends b.b{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(y.LFG(y.zs3))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function me(e,t){if(1&e&&(y.TgZ(0,"mat-card-content",1),y.TgZ(1,"div",2),y.TgZ(2,"div",3),y.TgZ(3,"div",4),y.TgZ(4,"label"),y._uU(5,"Select Payment Method"),y.qZA(),y._UZ(6,"p-dropdown",5),y.qZA(),y.qZA(),y.TgZ(7,"div",3),y.TgZ(8,"div",4),y.TgZ(9,"label"),y._uU(10,"Pay Order/DD/Cheque No"),y.qZA(),y._UZ(11,"input",6),y.qZA(),y.qZA(),y.TgZ(12,"div",3),y.TgZ(13,"div",4),y.TgZ(14,"label"),y._uU(15,"Payment Date"),y.qZA(),y._UZ(16,"input",7),y.qZA(),y.qZA(),y.qZA(),y.TgZ(17,"div",2),y.TgZ(18,"div",3),y.TgZ(19,"div",4),y.TgZ(20,"label"),y._uU(21,"Drawn On"),y.qZA(),y._UZ(22,"input",8),y.ALo(23,"date"),y.qZA(),y.qZA(),y.TgZ(24,"div",3),y.TgZ(25,"div",4),y.TgZ(26,"label"),y._uU(27,"Amount"),y.qZA(),y._UZ(28,"input",9),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&e){const e=y.oxw();let t;y.Q6J("formGroup",e.CustomerAcquisitionDetail),y.xp6(6),y.Q6J("options",e.PaymentMethodArr),y.xp6(16),y.s9C("value",y.xi3(23,3,null==(t=e.CustomerAcquisitionDetail.get("drawnOn"))?null:t.value,"yyyy-MM-dd"))}}let Ze=(()=>{class e{constructor(e){this.service=e}ngOnInit(){this.bindDropdowns()}bindDropdowns(){var e,t,o,r,i,s;null===(e=this.requestForm.controls.request.get("paymentDate"))||void 0===e||e.setValue(null!=(null===(t=this.requestForm.controls.request.get("paymentDate"))||void 0===t?void 0:t.value)?this.service.Moment(null===(o=this.requestForm.controls.request.get("paymentDate"))||void 0===o?void 0:o.value).format("YYYY-MM-DD"):null),null===(r=this.requestForm.controls.request.get("drawnOn"))||void 0===r||r.setValue(null!=(null===(i=this.requestForm.controls.request.get("drawnOn"))||void 0===i?void 0:i.value)?this.service.Moment(null===(s=this.requestForm.controls.request.get("drawnOn"))||void 0===s?void 0:s.value).format("YYYY-MM-DD"):null),this.serviceNames=this.lookups[this.service.constants.MasterCategories.ServiceMaster],this.PaymentMethodArr=this.lookups[this.service.constants.MasterCategories.PaymentMethod]}get CustomerAcquisitionDetail(){return this.requestForm.controls.request}}return e.\u0275fac=function(t){return new(t||e)(y.Y36(ge))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-payment-details"]],inputs:{requestId:"requestId",requestForm:"requestForm",lookups:"lookups"},decls:1,vars:1,consts:[["class","formWrap",3,"formGroup",4,"ngIf"],[1,"formWrap",3,"formGroup"],[1,"row"],[1,"col-4"],[1,"form-group"],["appendTo","body","optionValue","keyName","formControlName","paymentMethod","optionLabel","displayText","placeholder","-Select-",1,"ui-input",3,"options"],["type","text","formControlName","orderDDChequeNo","placeholder","Pay Order/DD/Cheque No",1,"form-control"],["type","date","formControlName","paymentDate",1,"form-control"],["type","date","formControlName","drawnOn",1,"form-control",3,"value"],["type","number","formControlName","amount","placeholder","Amount",1,"form-control"]],template:function(e,t){1&e&&y.YNc(0,me,29,6,"mat-card-content",0),2&e&&y.Q6J("ngIf",t.CustomerAcquisitionDetail)},directives:[r.O5,ae.dn,d.w5,n.JL,n.sg,I.Lt,d.x0,d.bf,n.JJ,n.u,n.Fj,n.wV],pipes:[r.uU],styles:[""]}),e})();function qe(e,t){1&e&&y._uU(0," Customer Acquisition Details ")}function ve(e,t){if(1&e&&(y.TgZ(0,"mat-card"),y._UZ(1,"app-acquisition-details",12),y.qZA()),2&e){const e=y.oxw(2);y.xp6(1),y.Q6J("requestId",e.requestId)("requestForm",e.requestForm)("lookups",e.requestDetailLookups)}}function fe(e,t){1&e&&y._uU(0," Customer LPG Connection Details ")}function Ce(e,t){if(1&e&&(y.TgZ(0,"mat-card"),y._UZ(1,"app-customer-lpgconnection-details",12),y.qZA()),2&e){const e=y.oxw(2);y.xp6(1),y.Q6J("requestId",e.requestId)("requestForm",e.requestForm)("lookups",e.requestDetailLookups)}}function Te(e,t){1&e&&y._uU(0," Payment Details ")}function Ae(e,t){if(1&e&&(y.TgZ(0,"mat-card"),y._UZ(1,"app-payment-details",12),y.qZA()),2&e){const e=y.oxw(2);y.xp6(1),y.Q6J("requestId",e.requestId)("requestForm",e.requestForm)("lookups",e.requestDetailLookups)}}function ye(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"button",13),y.NdJ("click",function(){return y.CHM(e),y.oxw(2).onReject()}),y._uU(1,"Reject"),y.qZA()}}function be(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"form",4),y.TgZ(1,"div",1),y.TgZ(2,"div",5),y.TgZ(3,"mat-tab-group"),y.TgZ(4,"mat-tab"),y.YNc(5,qe,1,0,"ng-template",6),y.YNc(6,ve,2,3,"ng-template",7),y.qZA(),y.TgZ(7,"mat-tab"),y.YNc(8,fe,1,0,"ng-template",6),y.YNc(9,Ce,2,3,"ng-template",7),y.qZA(),y.TgZ(10,"mat-tab"),y.YNc(11,Te,1,0,"ng-template",6),y.YNc(12,Ae,2,3,"ng-template",7),y.qZA(),y.qZA(),y.TgZ(13,"div",1),y.TgZ(14,"div",5),y.TgZ(15,"div",8),y.TgZ(16,"button",9),y.NdJ("click",function(){return y.CHM(e),y.oxw().onCancel()}),y._uU(17,"Cancel"),y.qZA(),y.TgZ(18,"button",10),y.NdJ("click",function(){return y.CHM(e),y.oxw().onSave()}),y._uU(19,"Submit"),y.qZA(),y.YNc(20,ye,2,0,"button",11),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){const e=y.oxw();y.Q6J("formGroup",e.requestForm),y.xp6(20),y.Q6J("ngIf",0!=e.requestId)}}const Fe=[{path:"",component:X},{path:"customer-acquisition-add-edit/:id",component:(()=>{class e{constructor(e,t,o,r,i,s){this.service=e,this.route=t,this.formBuilder=o,this.dialog=r,this.authService=i,this.routeUrl=s,this.apiUrl=v.N.apiUrl,this.oldUrl=v.N.oldUrl}ngOnInit(){this.requestId=this.route.snapshot.params.id,this.bindDropdowns()}bindDropdowns(){this.service.getLookups([this.service.constants.MasterCategories.StateMaster,this.service.constants.MasterCategories.CityMaster,this.service.constants.MasterCategories.ZoneMaster,this.service.constants.MasterCategories.ServiceMaster,this.service.constants.MasterCategories.CustomerTitle,this.service.constants.MasterCategories.CustomerNameType,this.service.constants.MasterCategories.OwnershipType,this.service.constants.MasterCategories.PaymentMethod,this.service.constants.MasterCategories.YesNo,this.service.constants.MasterCategories.LPGConnectionName,this.service.constants.MasterCategories.AllZoneMaster],e=>{this.requestDetailLookups=e,this.initialize()})}initialize(){if(this.requestId&&0!=this.requestId)this.service.getbyId(this.requestId).subscribe(e=>{if("success"===e.status&&e.data){const t=new ee(e.data);this.requestForm=this.formBuilder.formGroup(t),this.getCurrentStatusValue()}});else{const e=new ee;this.requestForm=this.formBuilder.formGroup(e)}}getCurrentStatusValue(){}onSave(){var e;if(this.requestForm.valid){const t=this.requestForm.getRawValue();t.request.entryBy=null===(e=this.service.currentUser)||void 0===e?void 0:e.id.toString(),t.request.isLPGConnection="1"==t.request.isLPGConnection,t.request.id=this.requestId,t.request.status=0!=this.requestId?3:1,this.service.CustomerAcquistion(t.request).subscribe(e=>{"success"==e.status?(this.service.notify.showSuccess("Customer Acquisition saved successfully"),this.routeUrl.navigate(["/customer-acquisition"])):e.errors.forEach((e,t)=>{this.service.notify.showSuccess(e.errorMessage)})})}else this.requestForm.markAllAsTouched(),this.service.notify.showError("Please enter all required fields")}onReject(){this.requestId?this.dialog.open(se,{data:{requestId:this.requestId},width:"800px"}).afterClosed().subscribe(e=>{}):this.service.notify.showError("Please select Customer Acquisition Details")}onCancel(){this.dialog.open(te.z,{width:"400px",data:{header:"Confirmation",message:"Do you want to cancel your changes?"}}).afterClosed().subscribe(e=>{e&&this.routeUrl.navigate(["/customer-acquisition"])})}}return e.\u0275fac=function(t){return new(t||e)(y.Y36(oe),y.Y36(Z.gz),y.Y36(d.GW),y.Y36(M.uw),y.Y36(D.e),y.Y36(Z.F0))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-customer-acquisition-add-edit"]],decls:6,vars:1,consts:[[1,"manageServiceRequestPage"],[1,"row"],[1,"col-md-12"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"col-12"],["mat-tab-label",""],["matTabContent",""],[1,"btnWrap","mt-4"],["mat-button","","color","secondary","type","button",3,"click"],["mat-button","","color","primary","type","submit",3,"click"],["mat-raised-button","","color","warn","type","submit",3,"click",4,"ngIf"],[3,"requestId","requestForm","lookups"],["mat-raised-button","","color","warn","type","submit",3,"click"]],template:function(e,t){1&e&&(y.TgZ(0,"section",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"h1"),y._uU(4,"Customer Acquisition Details"),y.qZA(),y.qZA(),y.qZA(),y.YNc(5,be,21,2,"form",3),y.qZA()),2&e&&(y.xp6(5),y.Q6J("ngIf",t.requestForm))},directives:[r.O5,n._Y,n.JL,d.w5,n.sg,ne.SP,ne.uX,ne.uD,ne.Vc,O.lW,ae.a8,ue,he,Ze],styles:[""]}),e})()}];let De=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[Z.Bz.forChild(Fe)],Z.Bz]}),e})(),Me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:[n.qu],imports:[[r.ez,De,i.q,s.m,d.Ju,n.u5,n.UX,l.S,c.hJ,a.U$,u.U,m.q4,p._8,h.zz,g.L$]]}),e})()}}]);